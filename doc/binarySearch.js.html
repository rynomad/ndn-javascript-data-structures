<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Utility/binarySearch.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: Utility/binarySearch.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>  /**
 * Modified from https://gist.github.com/Wolfy87/5734530
 *
 *
 * Performs a binary search on the host array. This method can either be
 * injected into Array.prototype or called with a specified scope like this:
 * binaryIndexOf.call(someArray, searchElement);
 *
 * @param {*} searchElement The item to search for within the array.
 * @return {Number} The index of the element which defaults to -1 when not found.
 */


function compareArrays(query, comparator, i){
  if (!(i >= 0))
    i = -1

  if (i >= 0 || (query.length == comparator.length)){
    i++
    if (comparator[i] > query[i]){
      return 1;
    } else if (comparator[i] &lt; query[i]) {
      return -1;
    } else if (query[i] == comparator[i]){
      if (i &lt; query.length - 1)
        return compareArrays(query, comparator, i);
      else
        return 0;
    }
  } else if (comparator.length > query.length){
    return 1;
  } else if (comparator.length &lt; query.length){
    return -1;
  }

}


var binaryIndexOfPrefix = function(array, searchElement, prop) {
	'use strict';
  if (array.length == 0){
    return -1;}

	var minIndex = 0;
	var maxIndex = array.length - 1;
	var currentIndex;
	var currentElement;
	var resultIndex;
  var res;

  searchElement = (prop == "prefix") ?
    searchElement.getValue().buffer
  : (prop == "nonce") ?
    searchElement.nonce
  : (prop == "faceID") ?
    searchElement.faceID
  : searchElement

	while (minIndex &lt;= maxIndex) {
		resultIndex = currentIndex = (minIndex + maxIndex) / 2 | 0;
    currentElement = (prop == "prefix") ? array[currentIndex].prefix.get(-1).getValue().buffer : (prop == "nonce") ? array[currentIndex].nonce : (prop == "faceID") ? array[currentIndex].faceID : array[currentIndex]

    res = (typeof searchElement !== "number") ? compareArrays(searchElement, currentElement) : (function(){
      if (searchElement > currentElement)
        return -1;
      if (searchElement &lt; currentElement)
        return 1;
      else
        return 0
    })()


		if (res == 1) {
			maxIndex = currentIndex - 1;
		}
		else if (res == -1) {
      minIndex = currentIndex + 1;
		}
		else {
			return currentIndex;
		}
	}
  return ~(maxIndex + 1);
}

module.exports = binaryIndexOfPrefix
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="ContentStore.html">ContentStore</a></li><li><a href="ContentStore_insert.html">insert</a></li><li><a href="csEntry.html">csEntry</a></li><li><a href="DataChannelTransport.html">DataChannelTransport</a></li><li><a href="FIB.html">FIB</a></li><li><a href="FibEntry.html">FibEntry</a></li><li><a href="Interfaces.html">Interfaces</a></li><li><a href="MessageChannelTransport.html">MessageChannelTransport</a></li><li><a href="NameTree.html">NameTree</a></li><li><a href="NameTreeNode.html">NameTreeNode</a></li><li><a href="PIT.html">PIT</a></li><li><a href="PitEntry.html">PitEntry</a></li><li><a href="Transport.html">Transport</a></li><li><a href="WebSocketServerTransport.html">WebSocketServerTransport</a></li></ul><h3>Global</h3><ul><li><a href="global.html#compareArrays">compareArrays</a></li><li><a href="global.html#ElementReader">ElementReader</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Fri Nov 14 2014 00:53:33 GMT-0700 (MST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
